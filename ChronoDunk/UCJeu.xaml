<UserControl x:Class="ChronoDunk.UCJeu"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      mc:Ignorable="d"
      Height="600" Width="800"
      Focusable="True"
      KeyDown="OnKeyDown" KeyUp="OnKeyUp"
      MouseDown="OnMouseDown" MouseUp="OnMouseUp" MouseMove="OnMouseMove">

    <Grid Background="Black">
        <Canvas x:Name="GameCanvas" Background="Transparent" MouseLeftButtonDown="GameCanvas_Click" RenderTransformOrigin="0.5,0.5">
            <Canvas.RenderTransform>
                <TranslateTransform x:Name="CanvasShake" X="0" Y="0"/>
            </Canvas.RenderTransform>

            <Image Source="/images/background.jpg" Stretch="Fill" Width="812" Height="600" IsHitTestVisible="False" HorizontalAlignment="Left" VerticalAlignment="Top"/>

            <StackPanel Canvas.Left="300" Canvas.Top="20" Width="200">
                <Border Background="#CC000000" CornerRadius="5" Margin="0,0,0,5" HorizontalAlignment="Center" Padding="15,2">
                    <TextBlock x:Name="TimerText" Text="60" Foreground="#00FF00" FontSize="35" FontWeight="Bold" FontFamily="Consolas"/>
                </Border>
                <Border Background="#CC000000" CornerRadius="5" HorizontalAlignment="Center" Padding="10,5">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <TextBlock x:Name="PlayerScoreText" Text="0" Foreground="Yellow" FontSize="30" FontWeight="Bold" Margin="0,0,15,0"/>
                        <TextBlock Text="-" Foreground="White" FontSize="30" FontWeight="Bold"/>
                        <TextBlock x:Name="EnemyScoreText" Text="0" Foreground="Red" FontSize="30" FontWeight="Bold" Margin="15,0,0,0"/>
                    </StackPanel>
                </Border>
                <Grid Margin="0,2,0,0">
                    <TextBlock Text="TOI" Foreground="Yellow" FontSize="10" HorizontalAlignment="Left" Margin="10,0,0,0" FontWeight="Bold"/>
                    <TextBlock Text="ADV" Foreground="Red" FontSize="10" HorizontalAlignment="Right" Margin="0,0,10,0" FontWeight="Bold"/>
                </Grid>
            </StackPanel>

            <ProgressBar x:Name="SuperBar" Width="200" Height="20" Canvas.Left="10" Canvas.Bottom="10" Background="Gray" Foreground="OrangeRed" Value="0" Maximum="100"/>
            <TextBlock Text="SUPER FEU" Canvas.Left="15" Canvas.Bottom="12" Foreground="White" FontWeight="Bold" FontSize="10" IsHitTestVisible="False"/>

            <Polyline x:Name="TrajectoryLine" Stroke="Yellow" StrokeThickness="5" StrokeDashArray="4 2" Opacity="0.8" IsHitTestVisible="False"/>

            <Rectangle x:Name="HitboxBackboardRight" Fill="Red" Opacity="0" Width="34" Height="103" Canvas.Top="133" Canvas.Left="674" HorizontalAlignment="Left" VerticalAlignment="Center"/>
            <Rectangle x:Name="HitboxHoopRight" Fill="Lime" Opacity="0" Width="39" Height="10" Canvas.Top="226" Canvas.Left="630" HorizontalAlignment="Center" VerticalAlignment="Top"/>
            <Rectangle x:Name="HitboxBackboardLeft" Fill="Red" Opacity="0" Width="40" Height="100" Canvas.Top="136" Canvas.Left="93" RenderTransformOrigin="0.4,0.49" HorizontalAlignment="Center" VerticalAlignment="Top"/>
            <Rectangle x:Name="HitboxHoopLeft" Fill="Lime" Opacity="0" Width="43" Height="6" Canvas.Top="226" Canvas.Left="138" HorizontalAlignment="Center" VerticalAlignment="Top"/>

            <Image x:Name="Player" Source="/images/player.png" Height="300" Width="200" Canvas.Top="250" Canvas.Left="63" IsHitTestVisible="False" RenderTransformOrigin="0.5,0.5">
                <Image.RenderTransform>
                    <ScaleTransform ScaleX="1"/>
                </Image.RenderTransform>
            </Image>
            <Image x:Name="Enemy" Source="/images/player.png" Height="300" Width="200" Canvas.Top="250" Canvas.Left="537" IsHitTestVisible="False" Opacity="0.9" RenderTransformOrigin="0.5,0.5">
                <Image.Effect>
                    <DropShadowEffect Color="Red" BlurRadius="20" ShadowDepth="0"/>
                </Image.Effect>
                <Image.RenderTransform>
                    <ScaleTransform ScaleX="-1"/>
                </Image.RenderTransform>
            </Image>

            <Image x:Name="Ball" Source="/images/ballon.png" Height="80" Width="80" Canvas.Top="393" Canvas.Left="366" IsHitTestVisible="False" RenderTransformOrigin="0.5,0.5">
                <Image.RenderTransform>
                    <RotateTransform Angle="0"/>
                </Image.RenderTransform>
            </Image>

            <Button Content="X" Click="QuitGame_Click" Canvas.Right="10" Canvas.Top="10" Width="30" Height="30" Background="Red" Foreground="White" FontWeight="Bold" Focusable="False" BorderBrush="White"/>

            <TextBlock x:Name="CountdownText" Text="" FontSize="100" FontWeight="Bold" Foreground="Yellow" Canvas.Left="350" Canvas.Top="200" Visibility="Collapsed">
                <TextBlock.Effect>
                    <DropShadowEffect Color="Black" BlurRadius="20" ShadowDepth="10"/>
                </TextBlock.Effect>
            </TextBlock>

            <Grid x:Name="GameOverScreen" Width="800" Height="600" Background="#EE000000" Visibility="Collapsed">
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                    <TextBlock Text="FIN DU MATCH" Foreground="White" FontSize="60" FontWeight="Bold" HorizontalAlignment="Center" FontFamily="Impact"/>
                    <TextBlock x:Name="FinalScoreText" Text="00 - 00" Foreground="Yellow" FontSize="50" HorizontalAlignment="Center" Margin="0,20"/>
                    <Button Content="REJOUER" Width="250" Height="60" FontSize="20" Background="Orange" FontWeight="Bold" Click="QuitGame_Click"/>
                    <Button Content="MENU" Width="250" Height="60" FontSize="20" Background="Red" FontWeight="Bold" Margin="0,10" Click="QuitToMenu_Click"/>
                </StackPanel>
            </Grid>

            <Grid x:Name="PauseMenu" Width="800" Height="600" Background="#CC000000" Visibility="Collapsed">
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                    <TextBlock Text="PAUSE" Foreground="White" FontSize="70" FontWeight="Bold" HorizontalAlignment="Center" FontFamily="Impact" Margin="0,0,0,40">
                        <TextBlock.Effect>
                            <DropShadowEffect Color="Black" BlurRadius="10"/>
                        </TextBlock.Effect>
                    </TextBlock>
                    <Button Content="REPRENDRE" Click="Resume_Click" Width="300" Height="60" Background="#00AA00" Foreground="White" FontSize="25" FontWeight="Bold" Margin="10" Cursor="Hand">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}" CornerRadius="10" BorderBrush="White" BorderThickness="2">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                    <Button Content="QUITTER" Click="QuitToMenu_Click" Width="300" Height="60" Background="#AA0000" Foreground="White" FontSize="25" FontWeight="Bold" Margin="10" Cursor="Hand">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}" CornerRadius="10" BorderBrush="White" BorderThickness="2">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </StackPanel>
            </Grid>

        </Canvas>
    </Grid>
</UserControl>